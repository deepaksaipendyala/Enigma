<h1 align="center">
  Enigma ü§ñ - A music recommender bot for Discord
  
 [![Open Source Love](https://badges.frapsoft.com/os/v3/open-source.png?v=103)](https://github.com/ellerbrock/open-source-badges/)
</h1>

<div align="center">

[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)

<!-- [![DOI](https://zenodo.org/badge/533639670.svg)](https://zenodo.org/badge/latestdoi/533639670) -->
<!-- [![Build Status](https://github.com/rahulgautam21/Enigma/actions/workflows/github-actions-build.yml/badge.svg)](https://github.com/rahulgautam21/Enigma/actions) -->
<!-- [![GitHub Release](https://img.shields.io/github/release/rahulgautam21/Enigma.svg)](https://github.com/rahulgautam21/Enigma/releases) -->
<!-- [![GitHub Repo Size](https://img.shields.io/github/repo-size/rahulgautam21/Enigma.svg)](https://img.shields.io/github/repo-size/rahulgautam21/Enigma.svg) -->

![Python v3.10](https://img.shields.io/badge/python-v3.10-blue)
[![Maintenance](https://img.shields.io/badge/Maintained%3F-yes-green.svg)](https://github.com/CSC510-Leslie-Tim-Deepak/Enigma/edit/fall_2024/graphs/commit-activity) 
[![made-with-python](https://img.shields.io/badge/Made%20with-Python-1f425f.svg)](https://www.python.org/)
[![GitHub contributors](https://img.shields.io/badge/contributors-4-green)](https://github.com/CSC510-Leslie-Tim-Deepak/Enigma/graphs/contributors)
![GitHub Issues or Pull Requests](https://img.shields.io/github/issues/CSC510-Leslie-Tim-Deepak/Enigma)
![GitHub Issues or Pull Requests](https://img.shields.io/github/issues-pr/CSC510-Leslie-Tim-Deepak/Enigma)
![GitHub code size in bytes](https://img.shields.io/github/languages/code-size/CSC510-Leslie-Tim-Deepak/Enigma)
![GitHub commit activity (branch)](https://img.shields.io/github/commit-activity/t/CSC510-Leslie-Tim-Deepak/Enigma)
![Supports Python](https://img.shields.io/pypi/pyversions/pytest)
[![style: autopep8](https://github.com/NCSU-CSC-510-F2024/Enigma/actions/workflows/code-formatter.yml/badge.svg)](https://github.com/CSC510-Leslie-Tim-Deepak/Enigma/actions/workflows/code-formatter.yml)
[![Coverage Status](https://coveralls.io/repos/github/CSC510-Leslie-Tim-Deepak/Enigma/badge.svg?branch=fall_2024&cache_bust=1688243023)](https://coveralls.io/github/CSC510-Leslie-Tim-Deepak/Enigma?branch=fall_2024)
[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.14009527.svg)](https://doi.org/10.5281/zenodo.14009527)
[![Platform](https://img.shields.io/badge/platform-discord-blue)](https://discord.com/)
[![Contributors Activity](https://img.shields.io/github/commit-activity/m/CSC510-Leslie-Tim-Deepak/Enigma)](https://github.com/CSC510-Leslie-Tim-Deepak/Enigma/pulse)
![GitHub code size in bytes](https://img.shields.io/github/languages/code-size/CSC510-Leslie-Tim-Deepak/Enigma)
[![GitHub release (with filter)](https://img.shields.io/github/v/release/CSC510-Leslie-Tim-Deepak/Enigma)](https://github.com/CSC510-Leslie-Tim-Deepak/Enigma/releases/tag/V4)
[![GitHub all releases](https://img.shields.io/github/downloads/CSC510-Leslie-Tim-Deepak/Enigma/total)](https://github.com/CSC510-Leslie-Tim-Deepak/Enigma/releases)

</div> 

<p align="center">
    <a href="https://github.com/rahulgautam21/Enigma/issues/new/choose">Report Bug</a>
    ¬∑
    <a href="https://github.com/rahulgautam21/Enigma/issues/new/choose">Request Feature</a>
</p>

<h1> üí° Features </h1>

<div>
<ul>
  <li>Recommend songs based on user input and play them on discord voice channel</li>
  <li>Can be used by teams/friends to listen to the same songs together</li>
  <li>Acts as an amplifier - can be used to play same music on multiple speakers to give a surround sound effect and increase volume output</li>
  <li>Ability to toggle music pause/resume</li>
  <li>Ability to play custom song without having to search the song on youtube</li>
  <li>Ability to switch back and forth between songs</li>
</ul>
If you want to get added to the music server on discord to test the bot, drop an email to spriyad2@ncsu.edu
</div>
  
<h1> Features added by Group 17</h1>

<div>
<ul>
  <li>Added a new data set [this](https://www.kaggle.com/datasets/saurabhshahane/music-dataset-1950-to-2019) which has approximately 24000 songs</li>
  <li>Added a new functionality to shuffle the songs within the queue</li>
  <li>Added a new functionality to add a custom song to the queue</li>
  <li>Fixed the issue of fetching songs from Youtube</li>
  <li>Extended the application to be deployed on Microsoft Azure</li>
</ul>
</div>

<h1> Features added by group 36, fall 2024 </h1>
<div>
<ul>
  <li>New Poll Command</li>
  <li>New Recommendation Algorithm</li>
  <li>Use web scraping and EDA to get a better database for the discord bot</li>
  <li>Improved Queue System</li>
</ul>
</div>

<h1> Features added by group 19, fall 2024 </h1>
<div>
<ul>
  <li>Search song from different sources</li>
  <li>Search optimation using spotify</li>
  <li>Give your own songs to playlist</li>
  <li>Improved audio quality and playback</li>
  <li>Add loggin</li>
</ul>
</div>

<h1> ‚öíÔ∏è Installation Procedure </h1>

See the installation instructions listed in [`Install`](INSTALL.md)

<h1> üöÄ Demo </h1>

https://user-images.githubusercontent.com/20087273/194780603-f163caf6-2c9e-4d74-8fbd-c93f30e8935a.mp4

<h1> üöÄ Demo 2 - Group 17 </h1>

https://user-images.githubusercontent.com/21155121/205782352-426dcee7-f145-43f1-af2e-a6eead2ccea3.mp4

<h1> üöÄ Demo 3 - Group 36, Fall 2024 </h1>

[link](https://youtu.be/CKdSPDz1jI8)

<h1> üöÄ Demo 4 - Group 19, Fall 2024 </h1>

[![V4: Fall 2024 Demo](https://img.youtube.com/vi/4pq8weKVvBk/0.jpg)](https://www.youtube.com/watch?v=4pq8weKVvBk)


<h1>üìçRoadMap </h1>

#### What We've Done:

1. Created a Discord Bot via the Discord Developer Portal.
2. Incorporated a [dataset](https://www.kaggle.com/datasets/leonardopena/top-spotify-songs-from-20102019-by-year) to our application.
3. Added functionalities to the Discord bot (explained in the [Features](https://github.com/rahulgautam21/Enigma/blob/main/README.md) section above.
4. Use the Discord Bot to play music based on the user's recommendations.
5. Can also use the Bot to play custom songs without having to search for it on YouTube.
6. Extend the application to be deployed online (via a website or an application).
7. Alternatively, use [this](https://www.kaggle.com/datasets/saurabhshahane/music-dataset-1950-to-2019) as the primary data source to make better recommendations.
8. Added some more functionality to the discord bot:
    - Add a custom song to the queue
    - Shuffle songs within the queue

#### New in v3.0

9. New Poll Command: This new poll command allows you to select up to 10 songs you like in order to curate a custom playlist for you to listen to
10. New Recommendation Algorithm: Our new and improved recommendation algorithm now uses cosine similarity to identify songs similar to songs you have indicated that you like.
11. Use web scraping and EDA to get a better database for the discord bot.
12. Improved Queue System:
    - Queue command: Now outputs the queue in a much nicer format compared to last version where it was just a list of song names
    - New Move Command: Users now have the ability to move songs within a queue by specifying the song and the position in queue
    - New Clear Queue Command: New ability to clear queue of all songs
    - Next Song Played Automatically: The next song in queue automatically starts playing once the current song stops instead of having to call next song command

### Team 19 -  Fall 2024
[![V4: Fall 2024 Demo](https://img.youtube.com/vi/4pq8weKVvBk/0.jpg)](https://www.youtube.com/watch?v=4pq8weKVvBk)

#### New in v4.0

üéß  Choose Your Source: Stream from YouTube (yt) or SoundCloud (sc) with ease!   
üîó  Add Songs Instantly: Simply paste the URL to queue your favorite tracks.   
üé∂  Accurate Song Titles: Played songs automatically update with official titles from websites for easy recognition.   
üîç  Spotify-Powered Searches: Find the exact song you want using Spotify‚Äôs accurate search info!   
üîä  Volume Control: Take full control of the volume for the perfect listening experience.   
‚ú®  Enhanced Music Quality: Enjoy superior sound for every beat and melody.  
üìã  Improved Code Logging and Debugging: Streamlined and efficient logging for seamless troubleshooting and performance monitoring.  
‚úÖ  Enhanced Code Coverage and Testing: Comprehensive test cases ensure reliability and maintainability of the bot.  

## üéµ Enigma Discord Bot Commands Guide üéµ

### **General Commands**

#### `!help`
- **Description:** Displays a list of all available commands with their descriptions.
- **Usage:** `!help`

#### `!showCommands`
- **Description:** Provides a quick overview of all commands.
- **Usage:** `!showCommands`

#### `!help <command>`
- **Description:** Provides detailed help about a specific command.
- **Usage:** `!help <command>`  
  Example: `!help add`

---

### **Queue Management Commands**

#### `!queue`
- **Description:** Displays the current song queue.
- **Usage:** `!queue`

#### `!add <source> <song_name_or_url>`
- **Description:** Adds a song to the queue from various sources. Supported sources:
  - `yt`: YouTube
  - `sc`: SoundCloud
  - `url`: Direct URL  
- **Usage:**  
  - `!add yt <song_name>`  
    Example: `!add yt shape of you`  
  - `!add sc <song_name>`  
    Example: `!add sc closer chainsmokers`  
  - `!add url <song_url>`  
    Example: `!add url https://www.youtube.com/watch?v=dQw4w9WgXcQ`

#### `!myrecommend <song1> [<song2> ...]`
- **Description:** Adds up to 10 specific songs directly to the queue using accurate Spotify metadata.
- **Usage:** `!myrecommend <song1> [<song2> ...]`  
  Example: `!myrecommend "closer chainsmokers" "shape of you"`

#### `!skip`
- **Description:** Skips the currently playing song and moves to the next one in the queue.
- **Usage:** `!skip`

#### `!clear`
- **Description:** Clears all songs from the queue.
- **Usage:** `!clear`

#### `!shuffle`
- **Description:** Randomizes the order of songs in the queue.
- **Usage:** `!shuffle`

---

### **Playback Commands**

### `!start`
- **Description:** Starts playback of the first song in the queue. If the bot is not in a voice channel, it joins the user's current channel.
- **Usage:** `!start`

#### `!pause`
- **Description:** Pauses the current playback.
- **Usage:** `!pause`

#### `!resume`
- **Description:** Resumes paused playback.
- **Usage:** `!resume`

#### `!volume`
- **Description:** Adjusts the playback volume.
- **Usage:** `!volume`  
  *(Further volume adjustments may require an additional parameter based on your bot's setup.)*

#### `!play <source> <song_name>`
- **Description:** Plays a specific song directly from the specified source.
- **Usage:**  
  - `!play yt <song_name>`  
    Example: `!play yt shape of you`

---

### **Recommendation Commands**

#### `!poll`
- **Description:** Creates a poll with 10 random songs for users to vote on.
- **Usage:** `!poll`

#### `!recommend`
- **Description:** Generates personalized song recommendations based on poll results or previous preferences.
- **Usage:** `!recommend`

---
### **Examples of Usage**

1. **Adding Songs to the Queue:**
   ```plaintext
   !add yt shape of you
   !add sc closer chainsmokers
   !add url https://www.youtube.com/watch?v=dQw4w9WgXcQ
   ```

2. **Managing Playback:**
   ```plaintext
   !start
   !pause
   !resume
   ```

3. **Curating Your Playlist:**
   ```plaintext
   !myrecommend "closer chainsmokers" "baby justin bieber"
   !shuffle
   ```

4. **Generating Recommendations:**
   ```plaintext
   !poll
   !recommend
   ```
   
#### What We've Yet To Do:

1. Integrating dislikes (taking into account the feedback of users) in the recommendation logic.
2. Playlists: Add a new feature to upload a list of songs in a .csv or .txt file to create a playlist that can be saved and played.
3. Improved Polling: Instead of having the bot select 10 random songs for the user to choose from, have the user input the songs they like to send to the recommend algorithm
4. Integrate Spotify/Apple Music: Instead of getting songs from YouTube (which has issues with playing audio that isn‚Äôt always songs) use other services such as Spotify or Apple Music to get audio.

<h1>üìñ Documentation</h1>

Documentation for the code available at - <a href="https://ncsu-csc-510-f2024.github.io/Enigma/">Enigma Docs</a>

<h1> üë• Contributors <a name="Contributors"></a> </h1>

### Group 17

<table>
  <tr>
    <td align="center"><a href="https://github.com/Sneha1b"><img src="https://avatars.githubusercontent.com/u/29037428?v=4" width="75px;" alt=""/><br /><sub><b>Sneha Madle</b></sub></a></td>
    <td align="center"><a href="https://github.com/yugaleepatil"><img src="https://avatars.githubusercontent.com/u/91028926?v=4" width="75px;" alt=""/><br /><sub><b>Yugalee Patil</b></sub></a><br /></td>
    <td align="center"><a href="https://github.com/cnangia-ncsu"><img src="https://avatars.githubusercontent.com/u/89174495?v=4" width="75px;" alt=""/><br /><sub><b>Chirrag Nangia</b></sub></a><br /></td>
    <td align="center"><a href="https://github.com/SASWAT123"><img src="https://avatars.githubusercontent.com/u/21155121?v=4" width="75px;" alt=""/><br /><sub><b>Saswat Priyadarshan</b></sub></a><br /></td>
  </tr>
</table>

### Group 36, Fall 2024

<table>
  <tr>
    <td align="center"><a href="https://github.com/NicoField"><img src="" width="75px;" alt=""/><br /><sub><b>Nico Field</b></sub></a></td>
    <td align="center"><a href="https://github.com/Symplexity"><img src="" width="75px;" alt=""/><br /><sub><b>Riley Joncas</b></sub></a><br /></td>
    <td align="center"><a href="https://github.com/birukayalew"><img src="" width="75px;" alt=""/><br /><sub><b>Biruk Tadesse</b></sub></a><br /></td>

  </tr>
</table>

### Group 19, Fall 2024

<table>
  <tr>
    <td align="center"><a href="https://github.com/Captain-Tim"><img src="https://avatars.githubusercontent.com/u/62422680?v=4" width="75px;" alt=""/><br /><sub><b>YiTing Hou</b></sub></a></td>
    <td align="center"><a href="https://github.com/deepaksaipendyala"><img src="https://avatars.githubusercontent.com/u/76196490?v=4" width="75px;" alt=""/><br /><sub><b>Deepak Sai Pendyala</b></sub></a><br /></td>
    <td align="center"><a href="https://github.com/LiuKang-11"><img src="https://avatars.githubusercontent.com/u/13636671?v=4" width="75px;" alt=""/><br /><sub><b>Leslie Liu</b></sub></a><br /></td>

  </tr>
</table>

<h1> Contributing </h1>

Please see [`CONTRIBUTING`](CONTRIBUTING.md) for contributing to this project.

<h1> Data </h1>

The data for this project is present [here](https://www.kaggle.com/datasets/saurabhshahane/music-dataset-1950-to-2019)

<!-- <h1> Support </h1>
For any support reach out to spriyad2@ncsu.edu -->
